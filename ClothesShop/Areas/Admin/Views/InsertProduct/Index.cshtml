
@{
    ViewBag.Title = "Nhập kho";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

@section naviheader{
    <ul class="navbar-nav">
        <li class="nav-item d-none d-sm-inline-block">
            <a href="~/Admin/Home" class="nav-link">Trang chủ</a>
        </li>
        <li class="nav-item d-none d-sm-inline-block">
            <a href="~/Admin/InsertProduct/Index" class="nav-link">Nhập kho</a>
        </li>

    </ul>
}

<!-- Content Header (Page header) -->
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Nhập kho</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Nhập kho</li>
                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>

<!-- Main content -->
<section class="content">

    <!-- Default box -->
    <div class="card">

        <div class="card-body">
            <div class="bs-stepper-content">
                <label>Chọn file nhập kho</label>
                <input  type="file" name="uploadFile" id="uploadFile">
                <button type="button" id="btnUploadFile">Nhập kho</button>
            </div>
        </div>
        <!-- /.card-body -->
        <div class="card-footer">

        </div>
        <!-- /.card-footer-->
    </div>
    <!-- /.card -->

</section>
<!-- /.content -->

@section scripts{
    
    <script>
        $(document).ready(function () {
            $('#btnUploadFile').click(function () {
                var fileInput = $('#uploadFile')[0];
                var formData = new FormData();
                if (fileInput.files.length > 0) {
                    formData.append('file', fileInput.files[0]);
                }

                $.ajax({
                    url: '/InsertProduct/InsertProduct',
                    type: 'POST',
                    data: formData,
                    contentType: false, // không đặt contentType
                    processData: false, // không xử lý dữ liệu gửi đi
                    success: function (response) {
                        if (response.Success) alert("Nhập kho thành công");
                    },
                    error: function (error) {
                        console.error(error);
                    }
                });
            });
        });
    </script>
}

